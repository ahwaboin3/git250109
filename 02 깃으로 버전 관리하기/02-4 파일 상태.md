> 02-4 파일 상태.md
# 02-4 파일 상태
- 깃에서는 버전을 만드는 단계마다 파일 상태가 달라집니다. 그래서 파일 상태를 이해하면 이 파일이 버전 관리의 여러 단계 중 어디에 해당하는지, 그 상태에서 어떤 일을 할 수 있는지 알 수 있습니다.

- tracked파일과 untracked파일
- 작업 트리에 있는 파일은 크게 tracked상태와 untracked상태로 나뉩니다.

1. 빔에서 hello.txt파일을 열고 숫자 3을 추가한 후 저장합니다.
2. 빔으로 hello2.txt라는 새로운 파일을 만들어 보겠습니다. 
3. 새로 만든 hello2.txt에 알파벳 a,b,c,d를 한 줄에 한 글자씩 입력하고 파일을 저장하고 종료합니다.
4. git status명령을 사용해 어떤 상태인지 확인한다.
5. 깃은 한 번이라도 커밋한 파일은 계속해서 수정 사항이 잇는지 추적합니다. 깃이 추적하고 있다는 뜻에서 tracked파일이라고 합니다. 반면에 한 번도 커밋하지 않은 파일은 수정 내역을 추적하지 않습니다. 그래서 untracked파일이라고 표시합니다.
6. 두 파일 모두 스테이지에 올린다.
- git add 명령 뒤에 파일 이름 대신 마침표(.)를 붙이면 작업 트리에서 수정한 파일들을 한꺼번에 스테이지에 올릴 수 있습니다.
7. 상태를 확인해 보면 두 파일 모두 스테이지에 올라온 것을 알 수 있습니다.
8. 커밋합니다.
9. 로그를 확인해 보면 각 커밋에 어떤 파일이 관련되었는지 알 수 없습니다.
10. 커밋과 관련된 파일까지 함께 살펴보려면 git log 명령에 --stat옵션을 사용합니다.
11. 가장 최근 커밋부터 순서대로 커밋 메시지와 관련 파일이 나열됩니다.
- 터미널 창에 비해 깃 로그가 너무 길 경우 한 화면씩 나누어 보여 줍니다. enter를 누르면 다음 로그 화면을 볼 수 있고, q를 누르면 로그 화면에서 빠져나와 깃 명령을 입력할 수 있습니다.
- .gitignore 파일로 버전 관리에서 제외하기
- 한 디렉터리 안에서 버전 관리를 하지 않을 파일이나 디렉터리가 있다면 .gitignore 파일을 만들어 목록을 지정할 수 있습니다. .gitignore 파일을 만든 후, 그 안에 버전을 관리하지 않을 파일이나 디렉터리 이름, 또는 파일 확장자를 입력하면 됩니다.

- unmodified, modified, stage 상태
- 파일이 tracked 상태라면 깃 명령으로 현재 작업 트리에 있는지, 스테이지에 있는지 등 더 구체적으로 알 수 있습니다.

1. 깃의 상태와 파일의 상태를 확인합니다.
2. working tree clean이라고 나타나면 현재 작업 트리에 있는 모든 파일의 상태는 unmodified라는 뜻입니다.
3. hello2.txt파일을 수정해 보겠습니다. hello2.txt에서 a만 남기고 나머지 내용을 삭제한 후 파일을 저장하고 종료합니다.
4. 상태를 확인해 보면 Changes not stage for commit라는 메시지가 나타나면 파일이 스테이지에 올라가지 않고 수정만 된 modified상태를 뜻합니다.
5. 스테이지에 올립니다. Changes to be committed라는 메시지가 나타나면 커밋 직전 단계, 즉 staged상태입니다.
6. 커밋합니다. 커밋을 끝내고 나면 unmodified상태로 돌아갑니다.

- 같은 파일이더라도 깃에서 버전을 만들 때 어느 단계에 있는지에 따라 파일의 상태가 바뀝니다. 이제는 git status 명령을 실행한 결과 화면을 보고 파일의 상태를 알 수 있습니다.

- 방금 커밋한 메시지 수정하기
- 문서의 수정 내용을 기록해 둔 커밋 메시지를 잘못 입력 했다면 커밋을 만들자마자 즉시 수정할 수 있습니다. 가정 최근 커밋 메시지를 수정하려면 git commit 명령에 --amend를 붙입니다. --amend옵션은 덮어쓰기 위한 옵션이며 앞에 붙임표 2개를 사용합니다.
---
    $ git commit --amend
---

